<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.company.haloshop.inventory.InventoryMapper">

    <!-- 입고 등록 -->
    <insert id="insertInventory">
        INSERT INTO inventory (items_id, stock_volume, inventory_volume, createdAt)
        VALUES (#{itemsId}, #{stockVolume}, #{inventoryVolume}, NOW())
    </insert>

    <!-- 입고 내역 전체 조회 -->
    <select id="getInventoryList" resultType="com.company.haloshop.dto.shop.Inventory">
        SELECT * FROM inventory ORDER BY createdAt DESC
    </select>
    
    <update id="updateInventory">
    UPDATE inventory
    SET stock_volume = #{stockVolume}, 
        inventory_volume = #{inventoryVolume}, 
        createdAt = NOW()
    WHERE id = #{id}
</update>

<delete id="deleteInventory">
    DELETE FROM inventory
    WHERE id = #{id}
</delete>

</mapper>
